# FocusGarden

**集中するためのアプリ + 普通にゲームとしても楽しい植物育成**

フォーカスセッション中に植物が育つ、リアルな世話とコレクションが楽しめる集中×育成アプリ。

---

## 🎮 主な機能

### 🌱 植物育成
- **30-50種類の植物種**（Common / Rare / Epic）
- **育成枠**: 3枠（課金で6→9枠）
- **リアルな世話**: 水やり、肥料、病気の治療
- **観察と判断**: 植物の状態を見て適切に世話
- **枯死システム**: 放置すると枯れる

### ⏱️ フォーカスセッション
- **セッション時間**: 10 / 25 / 45 / 60分
- **全植物同時育成**: セッション中、すべての育成中植物が育つ
- **成長**: 10分 = 1 GP、完全成長まで 120 GP
- **突然変異**: 完走時に低確率で変異発生（5種類）

### 🎰 ガチャ・コレクション
- **無料ガチャ**: 1日5回
- **有料ガチャ**: レア確率アップ
- **図鑑**: 入手した植物種を記録、コンプリート目指す

### 💰 課金要素
- 育成枠拡張（3→6→9）
- 有料ガチャ（レア確率アップ）

---

## 🎯 コンセプト

**メイン**: 集中時間で植物が育つ  
**サブ**: リアルな世話、コレクション、育成ゲームとして楽しい

- 世話の手間は少なく、1日1-2回でOK
- 観察→判断が面白い
- ガチャ・図鑑でコレクション欲を満たす
- セッション中は観察のみ、世話は不可

---

## 📋 技術スタック

- **Expo + React Native + TypeScript**
- **expo-router**: ファイルベースルーティング
- **Zustand**: 状態管理
- **AsyncStorage**: データ永続化（MVP、将来SQLiteに移行可能）
- **Jest**: ロジックの単体テスト

---

## 🚀 セットアップ

### 1. インストール
```bash
npm install --legacy-peer-deps
```

### 2. 起動
```bash
# 開発サーバー起動
./start-expo.sh

# または
npm start
```

### 3. 実機で確認
- Expo Go アプリでQRコードをスキャン

---

## 📂 プロジェクト構成

```
focus-garden/
├── app/                    # Expo Router（画面）
│   ├── (tabs)/            # タブナビゲーション
│   │   ├── index.tsx      # Home（育成枠一覧）
│   │   ├── focus.tsx      # Focus（セッション）
│   │   └── ...
│   └── _layout.tsx
├── src/
│   ├── core/              # ドメインロジック（UI非依存）
│   │   ├── domain/        # モデル、ルール、エンジン
│   │   └── storage/       # リポジトリ、永続化
│   └── features/          # 機能別モジュール
│       └── plants/        # 植物管理（Zustand）
├── docs/
│   ├── spec.md            # 仕様書（詳細）
│   └── architecture.md    # アーキテクチャ指針
└── assets/                # 画像、アイコン
```

---

## 🧪 テスト

```bash
# 単体テスト
npm test

# Watch モード
npm run test:watch

# 型チェック
npm run type-check
```

---

## 📖 ドキュメント

詳細な仕様は `docs/spec.md` を参照してください。

### 主要な仕様
- **成長**: 10分 = 1 GP、完全成長 = 120 GP
- **突然変異**: セッション完走時のみ抽選
  - 抽選回数: 10分=1回, 25分=2回, 45分=3回, 60分=4回
  - 確率: 1回あたり 0.5%
  - 当たりが出たら打ち切り（最大1当選/セッション）
- **世話**: 水やり、肥料、病気治療
- **枯死**: 水分不足/過剰、病気放置で枯れる
- **ガチャ**: 無料5回/日、有料はレア確率アップ

---

## 📅 開発ロードマップ

### ✅ Phase 1: 緊急修正
- [x] コアロジック実装
- [x] ストレージ層実装
- [x] ホーム画面（基本）
- [x] フォーカス画面（基本）
- [ ] バグ修正（モーダル、自動完了、全植物育成）

### 🚧 Phase 2: 植物種・枠システム
- [ ] 植物種データ（30-50種）
- [ ] 育成枠UI（3枠）
- [ ] 種を植えるフロー
- [ ] 全植物同時成長ロジック

### 📋 Phase 3: 世話システム
- [ ] 水分・栄養の時間減少
- [ ] 水やり、肥料、治療機能
- [ ] 病気発生・治療
- [ ] 枯死判定

### 📋 Phase 4: ガチャ
- [ ] 無料ガチャ（1日5回制限）
- [ ] 有料ガチャ
- [ ] 種インベントリ

### 📋 Phase 5: 図鑑
- [ ] 図鑑UI
- [ ] 収集率表示

### 📋 Phase 6: 課金
- [ ] 枠拡張（3→6→9）
- [ ] Expo IAP連携

---

## 🤝 開発方針

- **ロジックファースト**: UIよりもビジネスロジックの品質を重視
- **テスト**: 重要なロジックは必ず単体テスト
- **段階的実装**: Phase単位で実装→テスト→マージ
- **実機確認**: 機能ごとに実機で動作確認
- **こまめなPR**: 機能単位でPR作成→マージ

---

## 📝 ライセンス

Private
